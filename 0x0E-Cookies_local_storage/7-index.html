<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 7</title>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" 
    crossorigin="anonymous">
   </script>
   <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
</head>
<body>

    <script>
        let availableItems = ["Shampoo", "Soap", "Sponge", "Water"];

        if (typeof(Storage) !== "undefined") {
            createStore();
            displayCart();
        } else {
            alert("Sorry, your browser does not support Web storage. Try again with a better one");
        }


        function getCartFromStorage() {
            return JSON.parse()
        }

        const addItemToCart = (item) => {
            sessionStorage.setItem(item, cart);
            cart = sessionStorage.clickcount
            displayCart();
        }

        function removeItemfromCart(item) {
            displayCart();
        }

        function clearCart() {
            sessionStorage.clear();
            displayCart();
        } 

        function createStore() {
            let h2 = document.createElement('h2');
            h2.appendChild(document.createTextNode('Available products:'));
            document.body.appendChild(h2);

            let ul = document.createElement('ul');
            availableItems.forEach(function (item) {
                let items = document.createElement('li');
                items.appendChild(document.createTextNode(item));
                items.onclick = function () {
                    addItemToCart(item);
                }
                ul.appendChild(items);
            })
            document.body.appendChild(ul);
        }

        function displayCart() {
            if (sessionStorage !== null) {
                let get = document.getElementsByTagName('h2')[1];
                if (!get) {
                    let h2 = document.createElement('h2');
                    h2.appendChild(document.createTextNode('Your cart:'));
                    document.body.appendChild(h2);
                }
                let text = document.createElement('p');
                text.appendChild(document.createTextNode(`You previously had ${sessionStorage.length} items in your cart`));
                document.body.appendChild(text);
            } else {
                return;
            }
            
        }

        function updateCart() {

        }
    </script>

    
</body>
</html>